<section class="min-h-screen bg-[#ede6ce] flex items-center justify-center px-4 py-12">
    <div class="bg-white shadow-lg rounded-lg p-10 w-full max-w-md border border-[#771020]">
        <h1 class="text-3xl font-bold text-[#771020] mb-6 text-center">Se connecter</h1>
        <form [formGroup]="form" (ngSubmit)="login()" class="space-y-5">
            <div>
                <label class="block mb-1 font-medium text-[#771020]">Adresse e-mail*</label>
                <input type="email" formControlName="email"
                       class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#f1b939]"
                       placeholder="ex: nom@exemple.com" />
                <p [class.hidden]="!(email?.errors?.['required'] && email?.touched)"
                   class="text-sm text-red-600 mt-1">
                    L'adresse e-mail est requise.
                </p>
                <p [class.hidden]="!(email?.errors?.['email'] && email?.touched)"
                   class="text-sm text-red-600 mt-1">
                    L'adresse e-mail n'est pas valide.
                </p>
            </div>
            <div class="relative">
                <label class="block mb-1 font-medium text-[#771020]">Mot de passe*</label>
                <div class="relative">
                    <input [type]="isPasswordVisible ? 'text' : 'password'" formControlName="password"
                           class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#f1b939] pr-10"
                           placeholder="••••••••" />
                    <button type="button" (click)="togglePasswordVisibility()"
                            class="absolute top-1/2 right-3 -translate-y-1/2 flex items-center text-[#771020] focus:outline-none cursor-pointer">
                        <mat-icon class="material-icons pointer-events-none">
                            {{ isPasswordVisible ? 'visibility_off' : 'visibility' }}
                        </mat-icon>
                    </button>
                </div>
                <p [class.hidden]="!(password?.errors?.['required'] && password?.touched)"
                   class="text-sm text-red-600 mt-1">
                    Le mot de passe est requis.
                </p>
                <p [class.hidden]="!(password?.errors?.['insecurePassword'] && password?.touched)"
                   class="text-sm text-red-600 mt-1">
                    Le mot de passe doit contenir au moins 8 caractères et inclure 3 des types suivants : majuscules, minuscules, chiffres, symboles.
                </p>
            </div>
            <button type="submit" class="w-full rounded border-2 border-[#771020] bg-[#f1b939] px-4 py-2 font-semibold text-[#771020] transition hover:bg-[#fff0c2] cursor-pointer">
                Connexion
            </button>
        </form>
      @if (message) {
        <p class="text-center text-sm text-green-600 mt-4">{{ message }}</p>
      }
      <p class="text-center text-base text-[#771020] mt-5">
        Pas encore de compte ?
        <a [routerLink]="'/register'" class="text-[#f1b939] font-bold hover:underline">S'inscrire</a>
      </p>

    </div>
</section>
