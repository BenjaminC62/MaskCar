<div *ngIf="!isLoaded" class="flex justify-center items-center h-64">
  <div class="text-[#771020] text-2xl font-bold animate-pulse">Chargement...</div>
</div>

<div *ngIf="isLoaded">
  <section class="bg-[#ede6ce] px-6 py-16">
  <div class="mx-auto mb-12 max-w-3xl text-center">
    <h1 class="mb-4 text-4xl font-bold text-[#771020]">Résultats de recherche</h1>
    <p class="text-lg text-[#771020]">Voici les voitures correspondant à la marque sélectionnée.</p>
  </div>

  <div class="overflow-x-auto rounded-2xl bg-white shadow-lg border border-[#771020] max-w-7xl mx-auto">
    <table class="min-w-full table-fixed text-base">
      <thead class="bg-[#f1b939] text-[#771020] text-base font-semibold">
      <tr>
        <th class="w-[15%] px-4 py-4 text-center uppercase tracking-wide">Marque</th>
        <th class="w-[15%] px-4 py-4 text-center uppercase tracking-wide">Modèle</th>
        <th class="w-[15%] px-4 py-4 text-center uppercase tracking-wide">Kilométrage</th>
        <th class="w-[20%] px-4 py-4 text-center uppercase tracking-wide">Immatriculation</th>
        <th class="w-[15%] px-4 py-4 text-center uppercase tracking-wide">Prix/Jour</th>
        <th class="w-[20%] px-4 py-4 text-center uppercase tracking-wide">Détails</th>
      </tr>
      </thead>
      <tbody class="divide-y divide-[#ede6ce] text-[#771020] bg-white text-base">
        @for (voiture of voitures(); track voiture.id) {
          <tr class="hover:bg-[#fff0c2] transition-colors duration-200">
            <td class="w-[15%] px-4 py-4 h-16 text-center">{{ voiture.marque }}</td>
            <td class="w-[15%] px-4 py-4 h-16 text-center">{{ voiture.modele }}</td>
            <td class="w-[15%] px-4 py-4 h-16 text-center">{{ voiture.kilometrage }}</td>
            <td class="w-[20%] px-4 py-4 h-16 text-center">{{ voiture.immatriculation }}</td>
            <td class="w-[15%] px-4 py-4 h-16 text-center">{{ voiture.prix_jour }} €</td>
            <td class="w-[20%] px-4 py-4 h-16 text-center">
              <a [routerLink]="['/detail-voiture', voiture.id]" class="text-[#771020] text-3xl transition hover:text-[#f1b939] cursor-pointer">
                <i class='bx bx-search'></i>
              </a>
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>

  <p class="text-center text-gray-500 mt-4" [hidden]="voitures().length > 0">Aucune voiture trouvée pour cette marque.</p>
</section>
</div>
